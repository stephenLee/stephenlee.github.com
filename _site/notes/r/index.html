<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8" />
   <title>R &larr; Stephen Lee</title>
   <meta name="author" content="Stephen Lee" />


   <link rel="start" href="/" />

	
	
	

   <!-- syntax highlighting CSS -->
   <link rel="stylesheet" href="/files/css/syntax.css" type="text/css" />

   <!-- Homepage CSS -->
   <link rel="stylesheet" href="/files/css/screen.css" type="text/css" />

</head>
<body id="Notes">
<div id="site">

  <div id="header">
	<h1>
	<a href="/" title="My Personal Site">Stephen Lee</a>
</h1>
<ul class="nav">
  <li><a class="home" href="/">Home</a></li>
  <li><a class="archive" href="/archives">Archives</a></li>
  <li><a class="research" href="/research">Research</a></li>
  <li><a class="notes" href="/notes">Notes</a></li>
  <li><a class="about" href="/about">About</a></li>
</ul>

</div>

<div id="page">
	<h1 id='the_r_language'>The R Language</h1>

<h1 id='data_in_r'>Data in R</h1>

<p>Three main varieties: numeric, character and logical. We can identify what type of object using the <strong>mode</strong> function. For example:</p>

<p><code>&gt; name = &#39;michael&#39;</code></p>

<p><code>&gt; number = 100</code></p>

<p><code>&gt; happy = TRUE</code></p>

<p><code>&gt; mode(name)</code></p>

<p><code>[1] &quot;character&quot;</code></p>

<p><code>&gt; mode(number)</code></p>

<p><code>[1] &quot;numeric&quot;</code></p>

<p><code>&gt; mode(happy)</code></p>

<p><code>[1] &quot;logical&quot;</code></p>

<h1 id='vectors'>Vectors</h1>

<p>A vector is a collection of objects, all of the same mode, that can be stored in a single variable, and accessed through subscripts. For example:</p>

<p><code>&gt; v = c(1,2,3,4,5)</code> The <strong>c</strong> function is short for catenate or combine, and it&#8217;s used to put individual values together into vectors. We can find the number of elements in a vector using the <strong>length</strong> function.</p>

<p>Numerical subscripts in <strong>R</strong> start at 1, so the extract the first, third,and fifth values of the <strong>v</strong> vector, we could use:</p>

<p><code>&gt; v[c(1,3,5)]</code></p>

<p><code>[1] 1 3 5</code></p>

<p>If all of the subscripts of an object are negative, <strong>R</strong> will ignore those values,and use just the remaining elements. To extract all the elements of <strong>v</strong> except the first and last, use:</p>

<p><code>&gt; v[-c(1,5)]</code></p>

<p><code>[1] 2 3 4</code></p>

<p>Some shortcuts to generate vectors. <strong>colon</strong> operator</p>

<p><code>&gt; x = 1:10</code></p>

<p><code>&gt; x</code></p>

<p><code> [1]  1  2  3  4  5  6  7  8  9 10</code> <strong>rep</strong> function</p>

<p><code>&gt; rep(5,3)</code></p>

<p><code>[1] 5 5 5</code></p>

<p><code>&gt; y = 3:7</code></p>

<p><code>&gt; rep(y,3)</code></p>

<p><code> [1] 3 4 5 6 7 3 4 5 6 7 3 4 5 6 7</code></p>

<p><code>&gt; rep(1:4,c(2,3,3,4))</code></p>

<p><code> [1] 1 1 2 2 2 3 3 3 4 4 4 4</code></p>

<p>named vector</p>

<p><code>taxrate = c(AL=4,CA=7.25,IL=6.25,KS=5.3,NY=4.25,TN=7)</code></p>

<p><code>&gt; taxrate</code></p>

<p><code>  AL   CA   IL   KS   NY   TN </code></p>

<p><code>4.00 7.25 6.25 5.30 4.25 7.00 </code> use the <strong>names</strong> function</p>

<p><code>&gt; taxrate = c(4,7.25,6.25,5.3,4.25,7)</code></p>

<p><code>&gt; taxrate</code></p>

<p><code>[1] 4.00 7.25 6.25 5.30 4.25 7.00</code></p>

<p><code>&gt; names(taxrate) = c(&#39;AL&#39;, &#39;CA&#39;,&#39;IL&#39;,&#39;KS&#39;,&#39;NY&#39;,&#39;TN&#39;)</code></p>

<p><code>&gt; taxrate</code></p>

<p><code>  AL   CA   IL   KS   NY   TN </code></p>

<p><code>4.00 7.25 6.25 5.30 4.25 7.00 </code></p>

<p>access the elements with either numeric subscripts or by using the name of the element</p>

<p><code>&gt; taxrate[3]</code></p>

<p><code>IL</code></p>

<p><code>6.25</code></p>

<p><code>&gt; taxrate[&#39;KS&#39;]</code></p>

<p><code>KS</code></p>

<p><code>5.3</code></p>

<p><strong>which</strong> function, converts between logical subscripts and numeric noes which.max which.min system.time rnorm: generate random numbers from the normal distribution with mean 0 and standard deviation 1</p>

<h1 id='modes_and_classes'>Modes and Classes</h1>

<p>try to combine objects of different modes using the <strong>c</strong> function. <strong>R</strong> will find a common mode that can accomodate all the objects.</p>

<h1 id='reading_vectors'>Reading Vectors</h1>

<p><strong>scan</strong> function</p>

<h1 id='missing_values'>Missing Values</h1>

<p>In <strong>R</strong>, missing values are represented by the string <strong>NA</strong>.</p>

<ol>
<li>Any computation involving a missing value will return a missing value.</li>

<li>Unlike other quantities in <strong>R</strong>, we can&#8217;t directly test to see if something is equal to a missing value with the equality operator (==). We must use the buildin <strong>is.na</strong> function, which will return <strong>TRUE</strong> if a value is missing and <strong>False</strong> otherwise.</li>
</ol>

<p>how to solve?</p>

<p><strong>na.rm=TRUE</strong> argument</p>

<h1 id='matrices'>Matrices</h1>

<h1 id='data_frames'>Data Frames</h1>

<p>A data frame is like a matrix in that it represents a rectangular array of data, but each column in a data frame can be of a different mode.</p>

<p>data.frame head tail</p>

<p>sapply: simply operations that would require loops in other languages.</p>

<p>refer to the columns of a data frame: 1. Separate the data frame name from the variable name with a dollar sign($)</p>

<ol>
<li>treat the data frame like it was a matrix</li>

<li>use a character subscript</li>

<li>R provides a special subscripting method (double brackets <span><span /></span>) to extract the actual data from the data frame.</li>
</ol>

<h1 id='more_on_data_frames'>More on Data Frames</h1>

<ol>
<li>If you want to extract more than one column of a data frame, you need to use single brackets.</li>

<li>If the goal is to a add one or more new columns to a data frame, you can combine a few operations into one using the <strong>transform</strong> function. The first argument to <strong>transform</strong> is the name of the data frame that will be used to construct the new columns. The remaining arguments to <strong>transform</strong> are name/value pairs describing the new columns.</li>
</ol>

<h1 id='reading_data_frames_from_files_and_urls'>Reading Data Frames from Files and URLs</h1>

<p><strong>read.table</strong> function A factor in <strong>R</strong> is a variable that is stored as an integer, but displayed as a character string.</p>
</div>


  
  <div id="footer">
	<address>
		<span class="copyright">
			Content by <a href="http://stephenlee.github.com">Stephen Lee</a>(All rights reserved)
			Design by <a href="http://mark.reid.name">Mark Reid</a>
			<br/>
			(<a rel="licence" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Some rights reserved</a>)			
		</span>
		<span class="engine">
			Powered by 
			<a href="http://github.com/mreid/jekyll/" title="A static, minimalist CMS">Jekyll</a>
		</span>
	</address>
  </div>
</div>

<!-- Google Analytics script goes here -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-26493379-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
<!--[if IE 6]>
<script type="text/javascript"> 
	/*Load jQuery if not already loaded*/ if(typeof jQuery == 'undefined'){ document.write("<script type=\"text/javascript\"   src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js\"></"+"script>"); var __noconflict = true; } 
	var IE6UPDATE_OPTIONS = {
		icons_path: "http://static.ie6update.com/hosted/ie6update/images/"
	}
</script>
<script type="text/javascript" src="http://static.ie6update.com/hosted/ie6update/ie6update.js"></script>
<![endif]-->
</body>
</html>
